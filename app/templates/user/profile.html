<div class="container">
  <div class="row">
    <h1 class="profiltitle"><span class="colortitle">P</span>age de Profil</h1>
  </div>
  <div class="row">
    <input type="file" onchange="previewFile()"><br>
    <img id="profiletof" src="img/DID3629.jpg" height="300" alt="Image preview...">
    <div class="container chatprofile">
      <div ng-repeat="msg in msgs | orderBy:createdAt">
        <label>{{ msg.author.pseudo }}</label>
        <span>{{msg.createdAt  | date:"MM/dd/yyyy 'Ã ' H:mm"}}</span>
        <div marked="msg.content"></div>
        <a ng-click="likeMsg(msg._id, $index)">J'aime</a>
        <span>{{ msg.liked.length}}</span>
      </div>
      <form ng-submit="sendMsg()">
        <div class="form-group">
          <label>Your message</label>
          <textarea class="form-control" rows="3" ng-model="newMsg" id="msginput"></textarea>
          <input type="submit" class="btn btn-default">
        </div>
      </form>
      <div marked="newMsg"></div>
    </div>

  </div>
  <script>
    function previewFile() {
      var preview = document.querySelector('img'); //selects the query named img
      var file = document.querySelector('input[type=file]').files[0]; //sames as here
      var reader = new FileReader();

      reader.onloadend = function() {
        preview.src = reader.result;
      }

      if (file) {
        reader.readAsDataURL(file); //reads the data as a URL
      } else {
        preview.src = "";
      }
    }

    previewFile(); //calls the function named previewFile()
  </script>
  <div class="form-group" ng-submit="update()">
    <div class="input-group inputprofile">
      <span class="input-group-addon" id="basic-addon1">Tu es</span>
      <input type="text" class="form-control" ng-model="user.genre" aria-describedby="basic-addon1">
    </div>
    <div class="input-group inputprofile">
      <span class="input-group-addon" id="basic-addon1">Recherchant</span>
      <input type="text" class="form-control" ng-model="user.search" aria-describedby="basic-addon1">
    </div>
    <div class="input-group inputprofile">
      <span class="input-group-addon" id="basic-addon1">Ton age</span>
      <input type="text" class="form-control" ng-model="user.age" aria-describedby="basic-addon1">
    </div>
    <div class="input-group inputprofile">
      <span class="input-group-addon" id="basic-addon1">Ton pseudo</span>
      <input type="text" class="form-control" ng-model="user.pseudo" aria-describedby="basic-addon1">
    </div>
    <div class="input-group inputprofile">
      <span class="input-group-addon" id="basic-addon1">Ton mail</span>
      <input type="text" class="form-control" ng-model="user.email" aria-describedby="basic-addon1">
    </div>
    <div class="input-group inputprofile">
      <span class="input-group-addon" id="basic-addon1">Ton vice</span>
      <input type="text" class="form-control" ng-model="user.vice" aria-describedby="basic-addon1">
    </div>
    <button type="submit" class="btn btn-danger modif">
    modifier
  </button>
  </div>
